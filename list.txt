pravimo next15+ app sa login register stranicom, implementiramo prisma, nextauth, middleware, definisemo modele za prismu.u aplikaciji imamo admin, user. sve krece od ugovora koji potpisujemo sa provajderom ili humanitarnom organizacijom ili parking sluzbom. ugovor odredjuje podelu prihoda izmedju provajdera, humanitarnom organizacijom i parking sluzbom sa jedne strane i nas kao operatora sa druge strane. ugovor definise tip servisa (vas (prepaid, postpaid), bulk, humaniservisi(prepaid, postpaid), parking servise(prepaid, postpaid), svaki tip servisa ima svoje specificne proizvode (koji se kasnije pominju u reklamacijama) koje definisemo kroz podatke koje importujemo kroz aplikaciju u vidu .csv fajlova svaki mesec (u zavisnosti od izvestaja imamo prikaz prodaje proizvoda na dnvevnom ili mesecnom nivou). takodje podatke moramo i da eksportujemo iz aplikacije u posebnim formatima .xls i saljemo na stampu ili otpremamo u folder. svaki specifican proizvod iz odredjene grupe servisa moze imati mesecne reklamacije koje moramo da pratimo i resavamo, kao i novcani iznosi koji su reklamirani takodje i vremenski period.
znaci ugovori, stranica za reklamacije, stranica za import podataka, stranica za humanitarne organizacije koje posebno pratimo za isticanje ugovora. stranica za analizu finansija
stranica sa reklamacijama mora prilikom izbora da ima izbor grupe servisa, provajdera, mora sve da bude povezano, kako bi mogli da imamo statistiku reklamiranih proizvoda od ukupnog broja prodatih proizvoda tog meseca i slicne statistike. sad treba od ovog da samo napises projekat koji ce mi biti kostur za dalji rad i pracenje realizacije, znaci nista kod, moze list fajlova, bez src foldera, sve sto moze kroz server side render umesto api poziva, bez koda samo planovi i liste za projekat detaljno koncizno
mogu dodatno da objasnim svaki detalj ako je potrebno


Koraci za obradu e-mail prepiske: Identifikuj ključne elemente iz prepiske: Subject: Izvuci broj servisnog zahteva (npr. 1-153049022467). Body: Pronadji ključne informacije o servisu, kao što su ime servisa, cena, učestalost naplate (nedeljno/mesečno), i datumi aktivacije/deaktivacije. Kontakt podaci: Zabeleži e-mail adresu, brojeve telefona i dodatne informacije. Analiziraj zahteve i odgovore: Proveri ko je poslao e-mail (prvi pošiljalac), na koji datum, i šta je glavni zahtev (reklamacija, provera servisa, itd.). Utvrdi da li je reklamacija odobrena ili odbijena na osnovu odgovora iz korisničke službe. Strukturiraj podatke u tabeli: Organizuj informacije tako da budu pregledne, na primer: Dodatni proračuni za reklamacije: Ako je reklamacija odobrena, izračunaj ukupan broj naplaćenih servisa. Koristi podatke o ceni i odobrenom iznosu. Podeli broj servisa po mesecima, na osnovu datuma aktivacije i deaktivacije. Sistematizuj raspored naplate po mesecima: Napomena za varijacije: U slučaju da prepiska sadrži drugačije formate informacija, koristi isti princip prepoznavanja ključnih elemenata i strukturiranja. Finalni pregled i zaključak: Proveri da li su svi podaci logično organizovani i odgovaraju originalnoj prepisci. Pripremi podatke u tabeli za dalju komunikaciju ili analizu, znaci samo vrati tabelu, i ukljuci pretragu za kratki broj takodje dodaj u tabelu, tabela sa kolona: subject, from, to, date, body, kratki broj, ime servisa, servisni-zahtev, broj telefona, cena, vrsta naplata, datum reklama od, datum reklama do, ukupno reklamirano, reklamacija (odobrena/odbijena)


1. Maintain a Clean and Organized Codebase
Stick to the structured folder organization outlined in the project plan.

Follow consistent naming conventions (e.g., camelCase for functions, PascalCase for components).

Keep configuration files (.env, Prisma schema) in a dedicated folder for clarity.

2. Use Server-Side Rendering (SSR) Where Possible
Prioritize server-side rendering for pages to reduce client-side API calls.

Cache results when possible to improve performance.

Consider static generation (getStaticProps) for less dynamic pages.

3. Prisma ORM Best Practices
Define clear relations between models (e.g., contracts ↔ providers ↔ products).



Use migrations effectively to avoid conflicts.

Optimize queries by selecting only the required fields (select {} instead of findMany()).

4. Authentication & Middleware
Implement NextAuth.js with JWT sessions for better security.

Use middleware to protect routes dynamically based on user roles (admin/user).

Log authentication events for security monitoring.

5. Data Import & Export
Validate incoming .csv files to prevent corrupt data imports.

Ensure exported .xls files follow consistent formatting.

Automate import/export tasks using cron jobs or background workers.

6. Notifications & Alerts
Set up automated alerts using server-side workers (e.g., cron jobs).

Ensure contract expiration alerts trigger timely reminders.

Provide email & in-app notifications for critical updates.

7. Financial & Analytics Optimization
Store financial transactions in a dedicated table for tracking.

Use indexed queries to optimize statistical calculations.

Keep detailed logs of complaint rates vs. sales trends.

8. Version Control & Collaboration
Use GitHub/GitLab for proper version control.

Follow branching strategy (main, dev, feature-branch).

Maintain detailed commit messages for better tracking.







1. Reports & Analytics Structure
1.1 App Routes
/app/(protected)/analytics/page.tsx
/app/(protected)/analytics/financials/page.tsx
/app/(protected)/analytics/financials/actions.ts
/app/(protected)/analytics/sales/page.tsx
/app/(protected)/analytics/complaints/page.tsx
/app/(protected)/analytics/providers/page.tsx
/app/(protected)/reports/page.tsx
/app/(protected)/reports/generate/page.tsx
/app/(protected)/reports/scheduled/page.tsx

1.2 Components
/components/analytics/FinancialOverview.tsx
/components/analytics/SalesChart.tsx
/components/analytics/ComplaintAnalytics.tsx
/components/analytics/KpiDashboard.tsx
/components/analytics/AnomalyDetection.tsx
/components/analytics/DataFilters.tsx
/components/reports/ExportOptions.tsx
/components/reports/ScheduleForm.tsx
/components/reports/ReportPreview.tsx
/components/reports/ExcelGenerator.tsx
/components/analytics/ServicePerformance.tsx
/components/analytics/SalesOverview.tsx
/components/analytics/RevenueBreakdown.tsx
/components/analytics/ContractAnalytics.tsx

1.3 Actions & API Routes
/actions/analytics/get-financial-data.ts
/actions/analytics/get-sales-metrics.ts
/actions/analytics/get-complaint-stats.ts
/actions/reports/generate-excel.ts
/actions/reports/schedule-report.ts
/actions/reports/get-recent-reports.ts
/app/api/analytics/financials/route.ts
/app/api/analytics/sales/route.ts
/app/api/reports/generate/route.ts
/app/api/security/performance/route.ts
/app/api/security/performance/summary/route.ts

1.4 Utils & Services
/lib/analytics/financial-calculations.ts
/lib/analytics/anomaly-detection.ts
/lib/reports/excel-generator.ts
/lib/reports/scheduled-jobs.ts
/hooks/use-complaint-analytics.ts
/hooks/use-service-performance.ts
/hooks/use-sales-data.ts
/hooks/use-revenue-breakdown.ts
/hooks/use-contract-analytics.ts
/utils/excel-generator.ts
/utils/anomaly-detection.ts

2. Notifications Structure
2.1 App Routes
/app/(protected)/notifications/page.tsx
/app/(protected)/notifications/settings/page.tsx
/app/(protected)/admin/notifications/page.tsx

2.2 Components
/components/notifications/NotificationList.tsx
/components/notifications/NotificationBadge.tsx
/components/notifications/AlertBanner.tsx
/components/notifications/EmailPreview.tsx
/components/notifications/NotificationSettings.tsx
/components/notifications/AdminNotificationControls.tsx

2.3 Actions & API Routes
/actions/notifications/mark-as-read.ts
/actions/notifications/update-preferences.ts
/app/api/notifications/route.ts
/app/api/notifications/email/route.ts
/app/api/notifications/push/route.ts

2.4 Utils & Services
/lib/notifications/email-sender.ts
/lib/notifications/in-app-notifier.ts
/lib/notifications/cron-alerts.ts
/lib/notifications/templates.ts
/lib/notifications/anomaly-alert.ts
/lib/notifications/complaint-status.ts
/lib/mail.ts

3. Security & Performance Structure
3.1 Middleware
/middleware.ts
/app/(protected)/admin/security/page.tsx
/app/(protected)/admin/security/activity-logs/page.tsx
/app/(protected)/admin/security/user-roles/page.tsx
/app/(protected)/admin/security/performance/page.tsx
/actions/security/get-performance-metrics.ts

3.2 Components
/components/security/PermissionGate.tsx
/components/security/ActivityLog.tsx
/components/security/PerformanceMetrics.tsx
/components/security/ActivityLogTable.tsx
/components/security/SystemResources.tsx
/components/security/BlackLogTable.tsx
/components/security/DatabasePerformance.tsx
/components/security/APIResponseTimes.tsx
/components/security/UserRoleManagement.tsx
/components/security/RolePermissions.tsx

3.3 Actions & API Routes
/actions/security/log-event.ts
/actions/security/check-permission.ts
/actions/security/get-distinct-entity-types.ts
/app/api/security/logs/route.ts
/app/api/security/permissions/route.ts

3.4 Utils & Services
/lib/security/auth-helpers.ts
/lib/security/rate-limiter.ts
/lib/security/permission-checker.ts
/lib/security/audit-logger.ts
/lib/security/backup-service.ts
/lib/security/black-log.ts

4. Shared Types & Schemas
/schemas/analytics.ts
/schemas/notification.ts
/schemas/security.ts
/lib/types/analytics-types.ts
/lib/types/notification-types.ts
/lib/types/security-types.ts
/lib/types/interfaces.ts
/lib/types/enums.ts

5. Servisi & Proizvodi
5.1 App Routes
/app/(protected)/services/page.tsx
/app/(protected)/services/[serviceType]/page.tsx
/app/(protected)/services/[serviceType]/[id]/page.tsx
/app/(protected)/services/[serviceType]/[id]/edit/page.tsx
/app/(protected)/products/page.tsx
/app/(protected)/products/[id]/page.tsx
/app/(protected)/services/import/page.tsx

5.2 Components
/components/services/ServiceForm.tsx
/components/services/ServiceList.tsx
/components/services/ServiceDetails.tsx
/components/services/ServiceFilters.tsx
/components/services/ServiceStats.tsx
/components/services/ServiceCard.tsx
/components/services/category/VasServiceCard.tsx
/components/services/category/BulkServiceCard.tsx
/components/services/category/HumanServiceCard.tsx
/components/services/category/ParkingServiceCard.tsx
/components/products/ProductForm.tsx
/components/products/ProductList.tsx
/components/products/ProductCard.tsx
/components/services/ImportForm.tsx
/components/services/ProviderProcessorForm.tsx
/components/services/ParkingServiceProcessorForm.tsx

5.3 Actions & API Routes
/actions/services/create.ts
/actions/services/update.ts
/actions/services/delete.ts
/actions/services/import.ts
/actions/services/export.ts
/actions/services/importVasData.ts
/actions/products/create.ts
/actions/products/update.ts
/actions/products/delete.ts
/app/api/services/route.ts
/app/api/services/[id]/route.ts
/app/api/services/import/route.ts
/app/api/products/route.ts
/app/api/products/[id]/route.ts
/app/api/services/parking/[parkingId]/route.ts
/app/api/services/humanitarian/[orgId]/route.ts
/app/api/services/bulk/[bulkId]/route.ts

5.4 Hooks & Utils
/hooks/use-services.ts
/hooks/use-products.ts
/hooks/use-service-stats.ts
/hooks/use-service-categories.ts
/hooks/use-providers-by-service.ts
/lib/services/csv-processor.ts
/lib/services/validators.ts
/lib/services/statistics.ts
/lib/services/constants.ts
/lib/services/activity-log-service.ts
/utils/csv-validator.ts
/utils/import-processor.ts

5.5 Types & Schemas
/schemas/service.ts
/schemas/product.ts
/lib/types/service-types.ts
/lib/types/product-types.ts

6. Complaints
6.1 Database Schema
/prisma/schema.prisma

6.2 Type Definitions & Schemas
/schemas/complaint.ts
/lib/types/complaint-types.ts

6.3 API Routes
/app/api/complaints/route.ts
/app/api/complaints/[id]/route.ts
/app/api/complaints/[id]/comments/route.ts
/app/api/complaints/[id]/status/route.ts
/app/api/complaints/[id]/attachments/route.ts
/app/api/complaints/statistics/route.ts
/app/api/complaints/export/route.ts
/app/api/services/categories/route.ts

6.4 Server Actions
/actions/complaints/create.ts
/actions/complaints/update.ts
/actions/complaints/delete.ts
/actions/complaints/comment.ts
/actions/complaints/change-status.ts
/actions/complaints/import.ts
/actions/complaints/export.ts
/actions/services/get-by-category.ts
/actions/products/get-by-service.ts
/actions/providers/get-by-service.ts

6.5 UI Pages
/app/(protected)/complaints/page.tsx
/app/(protected)/complaints/new/page.tsx
/app/(protected)/complaints/[id]/page.tsx
/app/(protected)/complaints/[id]/edit/page.tsx
/app/(protected)/admin/complaints/page.tsx
/app/(protected)/admin/complaints/statistics/page.tsx
/app/(protected)/admin/complaints/reports/page.tsx

6.6 Components
/components/complaints/ComplaintForm.tsx
/components/complaints/ComplaintList.tsx
/components/complaints/CommentSection.tsx
/components/complaints/StatusBadge.tsx
/components/complaints/ComplaintFilters.tsx
/components/complaints/ServiceCategoryFilter.tsx
/components/complaints/ProviderFilter.tsx
/components/complaints/DateRangeFilter.tsx
/components/complaints/ComplaintTimeline.tsx
/components/complaints/FileUpload.tsx
/components/complaints/StatisticsCard.tsx
/components/complaints/NotificationBanner.tsx
/components/complaints/AmountSummary.tsx
/components/complaints/ProductSelection.tsx
/components/complaints/ServiceSelection.tsx
/components/complaints/ComplaintFormWrapper.tsx
/components/complaints/AssignComplaint.tsx
/components/complaints/CsvImport.tsx

6.7 Charts & Statistics
/components/complaints/charts/TrendChart.tsx
/components/complaints/charts/StatusChart.tsx
/components/complaints/charts/MonthlyComparisonChart.tsx
/components/complaints/charts/ServiceCategoryBreakdown.tsx
/components/complaints/charts/ProviderPerformance.tsx
/components/complaints/reports/ExcelExport.tsx
/components/complaints/reports/KpiDashboard.tsx

6.8 Hooks & Utils
/hooks/use-complaints.ts
/lib/actions/complaints.ts
/utils/complaint-notification.ts
/utils/complaint-statistics.ts
/utils/date-filters.ts
/utils/complaint-status.ts
/lib/notifications/complaint-status.ts

7. Contracts Structure
7.1 App Routes
/app/(protected)/contracts/page.tsx
/app/(protected)/contracts/new/page.tsx
/app/(protected)/contracts/[id]/page.tsx
/app/(protected)/contracts/[id]/edit/page.tsx
/app/(protected)/contracts/expiring/page.tsx
/app/(protected)/contracts/providers/page.tsx

7.2 Components
/components/contracts/ContractForm.tsx
/components/contracts/ContractList.tsx
/components/contracts/ContractDetails.tsx
/components/contracts/ContractFilters.tsx
/components/contracts/ContractStatusBadge.tsx
/components/contracts/ExpiryWarning.tsx
/components/contracts/AttachmentUpload.tsx
/components/contracts/AttachmentList.tsx
/components/contracts/ServiceSelector.tsx
/components/contracts/RevenueBreakdown.tsx
/components/contracts/ReminderForm.tsx
/components/contracts/category/ProviderContractCard.tsx
/components/contracts/category/HumanitarianContractCard.tsx
/components/contracts/category/ParkingContractCard.tsx
/components/contracts/ContractStatusManager.tsx
/components/contracts/status-change-dialog.tsx
/components/contracts/renewal-dialog.tsx
/components/contracts/renewal-substatus-dialog.tsx

7.3 Actions & API Routes
/actions/contracts/create.ts
/actions/contracts/update.ts
/actions/contracts/delete.ts
/actions/contracts/check-expiring.ts
/actions/contracts/add-attachment.ts
/actions/contracts/add-service.ts
/actions/contracts/remove-service.ts
/actions/contracts/create-reminder.ts
/actions/contracts/acknowledge-reminder.ts
/app/api/contracts/route.ts
/app/api/contracts/[id]/route.ts
/app/api/contracts/[id]/attachments/route.ts
/app/api/contracts/[id]/services/route.ts
/app/api/contracts/[id]/reminders/route.ts
/app/api/contracts/expiring/route.ts
/app/api/contracts/timeline/expiry/route.ts
/app/api/contracts/statistics/expiry/route.ts

7.4 Hooks & Utils
/hooks/use-contracts.ts
/hooks/use-expiring-contracts.ts
/hooks/use-contract-reminders.ts
/lib/contracts/validators.ts
/lib/contracts/reminder-scheduler.ts
/lib/contracts/expiration-checker.ts
/lib/contracts/revenue-calculator.ts
/lib/contracts/notification-sender.ts
/lib/contracts/pdf-generator.ts

7.5 Types & Schemas
/schemas/contract.ts
/schemas/contract-attachment.ts
/schemas/contract-reminder.ts
/lib/types/contract-types.ts
/lib/types/contract-status.ts

8. Providers Structure [G - KOMPLETIRANO]
8.1 App Routes
/app/(protected)/providers/page.tsx [G]
/app/(protected)/providers/new/page.tsx [G]
/app/(protected)/providers/[id]/page.tsx [G]
/app/(protected)/providers/[id]/edit/page.tsx [G]

8.2 Components
/components/providers/ProviderList.tsx [G]
/components/providers/ProviderForm.tsx [G]
/components/providers/ProviderDetails.tsx [G]
/components/providers/ProviderFilters.tsx [G]
/components/providers/ProviderCard.tsx [M]
/components/providers/ProviderServicesOverview.tsx
/components/providers/ProviderServicesForContracts.tsx
/components/providers/ProviderLogList.tsx

8.3 Actions & API Routes
/actions/providers/create.ts [G]
/actions/providers/update.ts [G]
/actions/providers/delete.ts [G]
/actions/providers/get.ts
/actions/providers/get-providers.ts
/actions/providers/getAllProviders.ts
/actions/providers/getProviderDetails.ts
/actions/providers/getServicesForNewContracts.ts
/app/api/providers/route.ts [G]
/app/api/providers/[id]/route.ts [G]
/app/api/providers/[id]/contracts/route.ts
/app/api/providers/[id]/edit/route.ts
/app/api/providers/[id]/status/route.ts
/app/api/providers/[id]/bulk-services/route.ts
/app/api/providers/[id]/vas-services/route.ts
/app/api/providers/vas-import/route.ts
/app/api/providers/upload/route.ts

8.4 Hooks & Utils
/hooks/use-providers.ts [G]
/hooks/use-provider-logs.ts
/lib/providers/validators.ts [G]
/lib/providers/providers.ts

8.5 Types & Schemas
/schemas/provider.ts [G]
/lib/types/provider-types.ts [G]

9. Humanitarian Organizations Structure [G - KOMPLETIRANO]
9.1 App Routes
/app/(protected)/humanitarian-orgs/page.tsx [G]
/app/(protected)/humanitarian-orgs/new/page.tsx [G]
/app/(protected)/humanitarian-orgs/[id]/page.tsx [G]
/app/(protected)/humanitarian-orgs/[id]/edit/page.tsx [G]
/app/(protected)/humanitarian-renewals/page.tsx [G]

9.2 Components
/components/humanitarian-orgs/HumanitarianOrgList.tsx [G]
/components/humanitarian-orgs/HumanitarianOrgForm.tsx [G]
/components/humanitarian-orgs/HumanitarianOrgDetails.tsx [G]
/components/humanitarian-orgs/HumanitarianOrgFilters.tsx [G]
/components/humanitarian-orgs/HumanitarianOrgContracts.tsx [G]

9.3 Actions & API Routes
/actions/humanitarian-orgs/create.ts [G]
/actions/humanitarian-orgs/update.ts [G]
/actions/humanitarian-orgs/delete.ts [G]
/actions/humanitarian-orgs/get.ts
/actions/humanitarian-renewals/create.ts [G]
/actions/humanitarian-renewals/update.ts [G]
/actions/humanitarian-renewals/list.ts [G]
/app/api/humanitarian-orgs/route.ts [G]
/app/api/humanitarian-orgs/[id]/route.ts [G]
/app/api/humanitarian-orgs/[id]/contracts/route.ts [G]
/app/api/humanitarian-orgs/[id]/services/route.ts
/app/api/humanitarian-renewals/route.ts [G]
/app/api/humanitarian-renewals/[id]/route.ts [G]
/app/api/humanitarian-renewals/statistics/route.ts

9.4 Hooks & Utils
/hooks/use-humanitarian-orgs.ts [G]
/hooks/use-humanitarian-org-contracts.ts [G]
/hooks/use-humanitarian-renewals.ts [G]
/lib/humanitarian-orgs/validators.ts [G]

9.5 Types & Schemas
/schemas/humanitarian-org.ts [G]
/schemas/humanitarian-renewal.ts [G]
/lib/types/humanitarian-org-types.ts [G]
/lib/types/humanitarian-renewal-types.ts

10. Operators [G - KOMPLETIRANO]
10.1 App Routes
/app/(protected)/operators/page.tsx [G]
/app/(protected)/operators/new/page.tsx [G]
/app/(protected)/operators/[id]/page.tsx [G]
/app/(protected)/operators/[id]/edit/page.tsx [G]

10.2 Components
/components/operators/OperatorList.tsx [G]
/components/operators/OperatorForm.tsx [G]
/components/operators/OperatorDetails.tsx [G]
/components/operators/OperatorFilters.tsx [G]
/components/operators/OperatorCard.tsx [G]
/components/operators/OperatorContracts.tsx [G]

10.3 Actions & API Routes
/actions/operators/index.ts [G]
/actions/operators/getAllOperators.ts [G]
/actions/operators/getContractsByOperatorId.ts [G]
/actions/operators/getOperatorById.ts [G]
/actions/operators/getOperators.ts [G]
/actions/operators/create.ts [G]
/actions/operators/update.ts [G]
/actions/operators/delete.ts [G]
/app/api/operators/route.ts [G]
/app/api/operators/[id]/route.ts [G]
/app/api/operators/[id]/contracts/route.ts [G]
/app/api/operators/contracts/route.ts

10.4 Hooks & Utils
/hooks/use-operators.ts [G]
/lib/operators/validators.ts [G]

10.5 Types & Schemas
/schemas/operator.ts [G]
/lib/types/operator-types.ts [G]

11. Parking Services Structure [G - KOMPLETIRANO]
11.1 App Routes
/app/(protected)/parking-services/page.tsx [G]
/app/(protected)/parking-services/new/page.tsx [G]
/app/(protected)/parking-services/[id]/page.tsx [G]
/app/(protected)/parking-services/[id]/edit/page.tsx [G]

11.2 Components
/components/parking-services/ParkingServiceList.tsx [G]
/components/parking-services/ParkingServiceForm.tsx [G]
/components/parking-services/ParkingServiceDetails.tsx [G]
/components/parking-services/ParkingServiceFilters.tsx [G]
/components/parking-services/ParkingServiceCard.tsx [G]
/components/parking-services/ParkingServiceContracts.tsx [G]
/components/parking-services/ParkingServiceReports.tsx
/components/parking-services/ParkingServiceServicesOverview.tsx

11.3 Actions & API Routes
/actions/parking-services/index.ts [G]
/actions/parking-services/getAllParkingServices.ts [G]
/actions/parking-services/getContractsByParkingServiceId.ts [G]
/actions/parking-services/getParkingServiceById.ts [G]
/actions/parking-services/getParkingServices.ts [G]
/actions/parking-services/create.ts [G]
/actions/parking-services/update.ts [G]
/actions/parking-services/delete.ts [G]
/actions/parking-services/getParkingServiceStats.ts
/actions/parking-services/getActiveContractsCount.ts
/actions/parking-services/getServicesForParkingServiceContracts.ts
/app/api/parking-services/route.ts [G]
/app/api/parking-services/[id]/route.ts [G]
/app/api/parking-services/[id]/contracts/route.ts [G]
/app/api/parking-services/[id]/services/route.ts
/app/api/parking-services/[id]/reports/route.ts
/app/api/parking-services/upload/route.ts
/app/api/parking-services/rename-file/route.ts
/app/api/parking-services/parking-import/route.ts

11.4 Hooks & Utils
/hooks/use-parking-services.ts [G]
/hooks/use-parking-service-contracts.ts [G]
/lib/parking-services/validators.ts [G]

11.5 Types & Schemas
/schemas/parking-service.ts [G]
/lib/types/parking-service-types.ts [G]

12. Bulk Services Structure [G - KOMPLETIRANO]
12.1 App Routes
/app/(protected)/bulk-services/page.tsx [G]
/app/(protected)/bulk-services/new/page.tsx [G]
/app/(protected)/bulk-services/[id]/page.tsx [G]
/app/(protected)/bulk-services/[id]/edit/page.tsx [G]
/app/(protected)/bulk-services/import/page.tsx [G]

12.2 Components
/components/bulk-services/BulkServiceList.tsx [G]
/components/bulk-services/BulkServiceForm.tsx [G]
/components/bulk-services/BulkServiceDetails.tsx [G]
/components/bulk-services/BulkServiceFilters.tsx [G]
/components/bulk-services/BulkServiceCard.tsx [G]
/components/bulk-services/BulkServiceStats.tsx [G]
/components/bulk-services/ImportForm.tsx [G]

12.3 Actions & API Routes
/actions/bulk-services/index.ts [G]
/actions/bulk-services/getAllBulkServices.ts [G]
/actions/bulk-services/getBulkServiceById.ts [G]
/actions/bulk-services/getBulkServices.ts [G]
/actions/bulk-services/getBulkServicesByProviderId.ts [G]
/actions/bulk-services/create.ts [G]
/actions/bulk-services/update.ts [G]
/actions/bulk-services/delete.ts [G]
/actions/bulk-services/import.ts [G]
/actions/bulk-services/export.ts [G]
/app/api/bulk-services/route.ts [G]
/app/api/bulk-services/[id]/route.ts [G]
/app/api/bulk-services/import/route.ts [G]
/app/api/bulk-services/export/route.ts [G]

12.4 Hooks & Utils
/hooks/use-bulk-services.ts [G]
/lib/bulk-services/validators.ts [G]
/lib/bulk-services/csv-processor.ts [G]
/lib/bulk-services/statistics.ts [G]

12.5 Types & Schemas
/schemas/bulk-service.ts [G]
/lib/types/bulk-service-types.ts [G]

13. Authentication & Authorization
13.1 App Routes
/app/auth/layout.tsx
/app/auth/login/page.tsx
/app/auth/register/page.tsx
/app/auth/reset/page.tsx
/app/auth/new-password/page.tsx
/app/auth/new-verification/page.tsx
/app/auth/error/page.tsx

13.2 Components
/components/auth/login-form.tsx
/components/auth/register-form.tsx
/components/auth/reset-form.tsx
/components/auth/new-password-form.tsx
/components/auth/new-verification-form.tsx
/components/auth/error-card.tsx
/components/auth/back-button.tsx
/components/auth/header.tsx
/components/auth/social.tsx
/components/auth/card-wrapper.tsx
/components/auth/role-gate.tsx
/components/auth/user-button.tsx
/components/auth/client-side-user-button.tsx
/components/auth/logout-button.tsx
/components/auth/login-button.tsx
/components/form-success.tsx
/components/form-error.tsx

13.3 Actions & API Routes
/actions/login.ts
/actions/register.ts
/actions/logout.ts
/actions/reset.ts
/actions/new-verification.ts
/app/api/auth/[...nextauth]/route.ts
/app/api/users/route.ts
/app/api/users/[id]/route.ts

13.4 Hooks & Utils
/hooks/use-current-user.ts
/hooks/use-current-role.ts
/lib/auth/auth-utils.ts
/lib/auth/adapters/listAuthenticatorsByUserId.ts
/lib/session.ts
/lib/auth.ts
/auth.config.ts
/data/user.ts
/data/account.ts
/data/verification-token.ts
/data/password-reset-token.ts
/data/two-factor-token.ts
/data/two-factor-confirmation.ts

14. Core Infrastructure
14.1 Configuration
./tsconfig.json
./next.config.mjs
./tailwind.config.ts
./postcss.config.mjs
./package.json
./.env
./.gitignore
./.eslintrc.json
./next-env.d.ts
./auth.ts
./package-lock.json
./README.md
./setup.bat
./.pub
./components.json
./next-auth.d.ts
./auth.config.ts

14.2 Utilities
./lib/db.ts
./lib/utils.ts
./lib/exceptions.ts
./lib/tokens.ts
./lib/formatters.ts
./utils/format.ts
./contexts/theme-context.tsx
./components/theme-toggle.tsx
./components/theme-customizer.tsx
./types/theme.ts
./hooks/useDebounce.ts
./lib/session.ts
./lib/auth.ts
./utils/excel-generator.ts
./utils/anomaly-detection.ts
./utils/csv-validator.ts
./utils/complaint-status.ts
./utils/complaint-statistics.ts
./utils/import-processor.ts
./utils/date-filters.ts
./utils/complaint-notification.ts
./utils/theme-script.ts
./lib/formatters.ts
./lib/utils.ts
./lib/tokens.ts

14.3 UI Components
./components/ui/tooltip.tsx
./components/ui/form.tsx
./components/ui/badge.tsx
./components/ui/input.tsx
./components/ui/textarea.tsx
./components/ui/avatar.tsx
./components/ui/radio-group.tsx
./components/ui/skeleton.tsx
./components/ui/date-picker.tsx
./components/ui/button.tsx
./components/ui/use-toast1.tsx
./components/ui/navigation-menu.tsx
./components/ui/calendar.tsx
./components/ui/separator.tsx
./components/ui/progress.tsx
./components/ui/toast1.tsx
./components/ui/data-table-pagination.tsx
./components/ui/sonner.tsx
./components/ui/alert-dialog.tsx
./components/ui/spinner.tsx
./components/ui/popover.tsx
./components/ui/alert.tsx
./components/ui/tabs.tsx
./components/ui/table.tsx
./components/ui/toaster1.tsx
./components/ui/dialog.tsx
./components/ui/select.tsx
./components/ui/date-range.tsx
./components/ui/label.tsx
./components/ui/heading.tsx
./components/ui/pagination.tsx
./components/ui/dropdown-menu.tsx
./components/ui/scroll-area.tsx
./components/ui/card.tsx
./components/ui/timeline.tsx
./components/ui/switch.tsx
./components/ui/checkbox.tsx

14.4 Shared Components
./components/Table.tsx
./components/TableHelper.tsx
./components/SearchInput.tsx
./components/BackButton.tsx
./components/PageHeader.tsx
./components/EmptyState.tsx
./components/Table/PaginationControls.tsx
./components/Table/TableHeader.tsx
./components/skeletons/DetailSkeleton.tsx
./components/skeletons/ListSkeleton.tsx
./components/skeletons/ProviderDetailSkeleton.tsx
./components/user-info.tsx
./components/form-success.tsx
./components/form-error.tsx
./components/toast/portal-toasty.tsx
./components/toast/toast-context.tsx
./components/theme-toggle.tsx
./components/theme-customizer.tsx

14.5 Scripts & Tools
./scripts/vas_provider_processor.py
./scripts/parking_service_processor.py
./scripts/email_processor.py
./scripts/vas-import/utils/ParkingImportUtils.ts
./scripts/vas-import/processors/ExcelProcessor.tsx
./scripts/vas-import/VasImportService.tsx
./scripts/vas-import/getOrCreateContract.tsx
./scripts/vas-import/ParkingServiceProcessor.tsx
./scripts/parsemail.py
./scripts/data/vas_output.csv
./scripts/data/parking_output.csv
./scripts/python-eml.py
./scripts/eml_parse.py
./scripts/msg_parse.py

14.6 App Structure
./app/layout.tsx
./app/page.tsx
./app/icon.png
./app/globals.css
./app/fonts/GeistMonoVF.woff
./app/fonts/GeistVF.woff
./app/(protected)/layout.tsx
./app/(protected)/_components/newbar.tsx
./app/(protected)/_components/sidebar.tsx
./app/(protected)/_components/navbar.tsx

14.7 Data Schemas
./schemas/index.ts
./schemas/auth.ts
./schemas/security.ts
./schemas/notification.ts
./schemas/analytics.ts
./data/user.ts
./data/account.ts
./data/verification-token.ts
./data/password-reset-token.ts
./data/two-factor-token.ts
./data/two-factor-confirmation.ts
./data/complaint.ts



📌 2. Ugovori
Ugovori definišu odnos između provajdera, humanitarnih organizacija, parking službi i vas kao operatora. Njihova struktura treba da bude jasno definisana, omogućavajući praćenje prihoda, servisa i isteka ugovora.

📁 Struktura foldera za ugovore
📁 contracts
│── 📄 contracts.schema.ts       # Prisma model za ugovore
│── 📄 contracts.service.ts      # Servis za rad sa ugovorima
│── 📄 contracts.controller.ts   # API endpoiniti za upravljanje ugovorima
│── 📁 providers                 # Ugovori sa provajderima
│── 📁 humanitarian              # Ugovori sa humanitarnim organizacijama
│── 📁 parking                   # Ugovori sa parking službom
│── 📄 index.ts                   # Centralni modul za ugovore
🔹 Plan implementacije ugovora
✅ Model ugovora (contracts.schema.ts) mora sadržati:

Provajdera / organizaciju / parking službu.

Tip servisa uključen u ugovor.

Period trajanja ugovora (datum početka i isteka).

Procenat prihoda koji pripada svakoj strani.

Status ugovora (Aktivan, Istekao, Na čekanju).

✅ API funkcionalnosti (contracts.controller.ts):

Kreiranje ugovora i povezivanje sa provajderima.

Automatska provera ugovora pred istekom.

Dinamičko ažuriranje servisa vezanih za ugovore.

✅ Stranica za praćenje ugovora (contracts.service.ts):

Dashboard za humanitarne organizacije, prikaz datuma isteka.

Analitika ugovora: broj aktivnih, procenti prihoda.

Upozorenja o ugovorima koji uskoro ističu.

✅ Notifikacije & automatizacija:

Sistem podsjetnika za ugovore koji ističu.

Email obaveštenja za administratore kod promene statusa ugovora.

📌 Ključne tehničke smernice
1️⃣ Bez any tipova, tačno definisane strukture ugovora u schemas/. 2️⃣ Efikasni Prisma ORM upiti za analizu podataka o ugovorima. 3️⃣ SSR rendering stranica za ugovore radi bržeg učitavanja. 4️⃣ Automatizovane notifikacije putem cron jobs-a. 5️⃣ KPI dashboard za praćenje prihoda & statusa ugovora.





Klasifikacija strukture projekta sa numeracijom:

1. Reports & Analytics Structure
1.1. App Routes
1.2. Components
1.3. Actions & API Routes
1.4. Utils & Services

2. Notifications Structure
2.1. App Routes
2.2. Components
2.3. Actions & API Routes
2.4. Utils & Services

3. Security & Performance Structure
3.1. Middleware
3.2. Components
3.3. Actions & API Routes
3.4. Utils & Services

4. Shared Types & Schemas
4.1. Validation Schemas (/schemas/*)
4.2. Type Definitions (/lib/types/*)

5. Servisi & Proizvodi
5.1. App Routes
5.2. Components
5.3. Actions & API Routes
5.4. Hooks & Utils
5.5. Types & Schemas

6. complaints
6.1. Database Schema Updates
6.2. Type Definitions & Schemas
6.3. API Routes
6.4. Server Actions
6.5. UI Pages
6.6. Components
6.7. Charts & Statistics
6.8. Hooks & Utils
6.9. Import & Validation
6.10. Notification System
